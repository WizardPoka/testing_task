# Telegram Бот на FastAPI и MongoDB

Этот проект реализует веб-приложение на **FastAPI** с использованием **MongoDB** в качестве базы данных для хранения сообщений. Также в проекте интегрирован **Telegram бот**, который позволяет пользователям просматривать и создавать сообщения.

## Описание

Это приложение состоит из нескольких частей:

- **FastAPI**: Веб-приложение, предоставляющее REST API для работы с сообщениями.
- **MongoDB**: База данных для хранения сообщений.
- **Nginx**: Веб-сервер, выполняющий роль реверс-прокси.
- **Telegram Бот**: Бот, который позволяет пользователям просматривать и добавлять сообщения через Telegram.

## Требования

- **Docker** и **Docker Compose**
- Telegram бот и токен, полученные через [BotFather]

## Установка

1. Клонируйте репозиторий на ваш локальный компьютер:

   ```bash
   git clone https://github.com/ваш-репозиторий.git
   cd ваш-репозиторий

## Запуск

2. Соберите и запустите проект с помощью Docker Compose:

   ```bash
   docker-compose up -d

## Основные эндпоинты

1. **Получение всех сообщений**

   - **URL:** `/messages/`
   - **Метод:** `GET`
   - **Описание:** Возвращает список всех сообщений, сохраненных в базе данных.
   - **Параметры запроса:**
     - `page` (опционально): Номер страницы для пагинации. По умолчанию `1`.
     - `limit` (опционально): Количество сообщений на странице. По умолчанию `10`.

   - **Пример запроса:**

     ```http
     GET /api/v1/messages/?page=1&limit=10 HTTP/1.1
     ```

   - **Пример ответа:**

     ```json
     {
       "page": 1,
       "limit": 10,
       "total_messages": 45,
       "messages": [
         {
           "id": "64c9d5fd2f2b9f4467e1",
           "author": "Иван",
           "content": "Привет, мир!"
         },
         {
           "id": "64c9d5fe2f2b9f4467e1",
           "author": "Мария",
           "content": "Добрый день!"
         }
       ]
     }
     ```

   - **Коды ответа:**
     - `200 OK`: Запрос выполнен успешно.
     - `500 Internal Server Error`: Ошибка сервера.

2. **Добавление нового сообщения**

   - **URL:** `/message/`
   - **Метод:** `POST`
   - **Описание:** Создает новое сообщение и сохраняет его в базе данных.
   - **Тело запроса (JSON):**

     ```json
     {
       "author": "Имя автора",
       "content": "Текст сообщения"
     }
     ```

   - **Пример запроса:**

     ```http
     POST /api/v1/message/ HTTP/1.1
     Content-Type: application/json

     {
       "author": "Анна",
       "content": "Это мое первое сообщение!"
     }
     ```

   - **Пример ответа:**

     ```json
     {
       "message": "Сообщение успешно добавлено",
       "message_id": "64c9d6002f2b9f4467e16ae4"
     }
     ```

   - **Коды ответа:**
     - `201 Created`: Сообщение успешно создано.
     - `400 Bad Request`: Неверный формат запроса.
     - `500 Internal Server Error`: Ошибка сервера.


